<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>InJoy Beauty | Bookings & Intake</title>
  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>

  <style>
    /* Page-scoped helpers for the PDF preview + upload UI */
    .bookings-layout{ max-width:1100px; margin:1.75rem auto 2.5rem; padding:1.25rem; display:grid; gap:1.5rem; }
    .bookings-card,
    .booking-card{ background: rgba(255,255,255,0.9); border-radius:20px; padding:1.5rem; box-shadow:0 12px 30px rgba(0,0,0,0.06); border:1px solid rgba(255,255,255,0.7); backdrop-filter: blur(8px); }
    .bookings-card{ max-width:920px; margin:0 auto; }
    .booking-card{ max-width:980px; margin:0 auto; }
    .preview-wrap{ display:grid; grid-template-columns: 1fr 340px; gap:1rem; align-items:start; }
    .preview-wrap > *{ min-width:0; }
    .pdf-preview{ width:100%; height:640px; max-width:100%; border-radius:8px; overflow:hidden; border:1px solid #ececec; background:#fff; }
    .pdf-preview iframe,
    .pdf-preview embed,
    .pdf-preview object{ width:100%; height:100%; border:0; display:block; }
    .side-col { padding:0.5rem; }
    .download-link { display:inline-block; margin-top:.5rem; color:var(--brand); font-weight:600; text-decoration:none; }
    label{ display:block; font-weight:600; margin-bottom:.25rem; font-size:0.95rem; }
    .note{ font-size:.92rem; color:var(--muted); margin-top:.5rem; }
    input[type="file"]{ display:block; margin-top:.25rem; }
    .form-actions{ display:flex; gap:.75rem; align-items:center; margin-top:.75rem; flex-wrap:wrap; }
    .btn{ background: var(--pill-bg); border:1px solid rgba(0,0,0,0.06); color:var(--pill-text); padding:.5rem .9rem; border-radius:999px; font-weight:600; cursor:pointer; }
    .error{ color:#b00020; font-size:.9rem; margin-top:.5rem; }
    @media (max-width:900px){ .preview-wrap{ grid-template-columns: 1fr; } .pdf-preview{ height:clamp(360px, 70vh, 560px); } }
    @media (max-width:600px){ .pdf-preview{ height:clamp(320px, 65vh, 520px); } }
  </style>
</head>
<body class="site-page">
  <a class="skip-link" href="#main-content">Skip to main content <span class="skip-icon" aria-hidden="true">↘</span></a>

  <header class="site-header" role="banner">
    <div class="top-bar">
      <div class="logo-box">
        <a href="index.html" class="logo-link" aria-label="InJoy Beauty home">
          <img src="InjoyBeauty.png" alt="InJoy Beauty logo" class="logo-img" width="160" height="80" />
        </a>
      </div>

      <div class="header-divider" aria-hidden="true"></div>

      <button class="hamburger-btn" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="mobile-menu">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>

      <nav aria-label="Primary Navigation" class="primary-nav">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a href="bookings.html" aria-current="page">Bookings & Contact</a></li>
          <li><a href="gallery.html">Gallery</a></li>
        </ul>
      </nav>

      <div class="header-social" aria-label="Social links">
        <a class="social-btn social-btn--facebook" href="https://www.facebook.com" target="_blank" rel="noopener noreferrer" aria-label="InJoy Beauty on Facebook">
          <img src="facebook2.png" alt="Facebook" class="social-icon">
        </a>

        <a class="social-btn social-btn--instagram" href="https://www.instagram.com/injoy_beautyy" target="_blank" rel="noopener noreferrer" aria-label="InJoy Beauty on Instagram">
          <img src="instagram2.png" alt="Instagram" class="social-icon">
        </a>
      </div>
    </div>

    <nav id="mobile-menu" class="mobile-menu" aria-label="Mobile Navigation">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="bookings.html" aria-current="page">Booking & Contact</a></li>
        <li><a href="gallery.html">Gallery</a></li>
      </ul>
    </nav>
  </header>

  <main id="main-content" class="site-main" role="main" tabindex="-1">
    <section class="bookings-layout" aria-label="Booking information">
      <div class="bookings-card">
        <h1 id="bookings-heading" class="bookings-title display-title">Book Your Appointment</h1>

        <p class="bookings-sub">
          I offer flexible booking to meet your comfort level and needs.
        </p>

        <p class="bookings-availability"><strong>Availability:</strong> Monday → Saturday │ 3:00 PM – 8:00 PM</p>

        <p class="bookings-info">
          Appointments can be booked for either in‑home visits or salon appointments in my Bourget location. If you need extra time for sensory breaks, movement, or conversation, I’m happy to schedule accordingly — no rush, no pressure.
        </p>
      </div>

      <div class="booking-card" role="region" aria-label="Booking and intake form">
        <h2 class="display-title" style="margin-top:0; font-size:1.5rem;">Booking & Intake</h2>
        <p class="note">You can preview the intake form below, download it to fill offline, then upload the completed PDF here. If you prefer, use the HTML booking request form on this page to submit your appointment request.</p>

        <div class="preview-wrap" aria-live="polite">
          <!-- LEFT: inline PDF preview (iframe/object) -->
          <div class="pdf-preview" aria-hidden="false">
            <!-- 
              Place your PDF in the repo root as intake-form.pdf (or update the src path).
              Some browsers support filling AcroForms inline; many require downloading and editing in a PDF app.
            -->
            <iframe src="injoyintakeform.pdf" title="Intake form preview" style="width:100%;height:100%;border:0;">
              <p>This browser does not support in-page PDF previews. You can <a href="intake-form.pdf">download the intake form</a>.</p>
            </iframe>
          </div>

          <!-- RIGHT: download + upload controls -->
          <aside class="side-col" aria-label="Download and upload completed intake form">
            <h2 class="display-title" style="margin-top:0.1rem;font-size:1.05rem;">Download & Upload</h2>

            <p class="note">If your browser doesn't allow filling PDFs inline, download the file, fill it in your PDF app, then upload the completed file below.</p>

            <a class="download-link" href="injoyintakeform.pdf" download>Download intake-form.pdf</a>

            <hr style="margin:12px 0;border:none;border-top:1px solid #efefef" />

            <!-- Replace the action URL with your upload endpoint.
                 Options:
                 - Your own server endpoint: https://your-server.example.com/upload
                 - If using Formspree file uploads (paid): the Formspree endpoint (see Formspree docs)
                 - If using a 3rd-party service like JotForm, Typeform, or Netlify, follow their file-upload instructions
            -->
            <form id="uploadForm" method="POST" action="https://your-server.example.com/upload" enctype="multipart/form-data" novalidate>
              <label for="completedPdf">Upload completed PDF <span aria-hidden="true">*</span></label>
              <input id="completedPdf" name="completedPdf" type="file" accept="application/pdf" required aria-required="true">
              <div class="note">Accepted: PDF only. Max file size: 10MB.</div>

              <div id="uploadError" class="error" role="alert" aria-live="assertive" hidden></div>

              <div class="form-actions">
                <button class="btn" type="submit">Upload completed form</button>
                <a class="download-link" href="mailto:you@example.com?subject=Completed%20Intake%20Form&body=I've%20attached%20my%20completed%20intake%20form." target="_blank">Or email it</a>
              </div>

              <div class="note">If you have trouble uploading, email the completed PDF to <strong>jaymie.injoy.services@gmail.com</strong> or call/text <strong>613-868-6944</strong>.</div>
            </form>
          </aside>
        </div>

        <!-- Optional: a short HTML booking request form (structured fields) -->
        <div style="margin-top:1rem;">
          <h2 class="display-title" style="margin:0 0 .5rem 0;">Quick booking request (optional)</h2>
          <p class="note">If you'd rather request a booking without the full intake, use this short form and we'll follow up for the details.</p>

          <form id="bookingRequest" method="POST" action="https://formspree.io/f/yourFormID" style="display:grid;grid-template-columns:1fr 1fr;gap:.5rem;">
            <input name="honeypot" style="display:none">
            <label for="rq-name" class="full">Full name</label>
            <input id="rq-name" name="name" class="full" type="text" required>

            <label for="rq-email">Email</label>
            <input id="rq-email" name="email" type="email" required>

            <label for="rq-phone">Phone</label>
            <input id="rq-phone" name="phone" type="tel">

            <label for="rq-service">Service</label>
            <select id="rq-service" name="service">
              <option>Haircut / Styling</option>
              <option>Colour</option>
              <option>Other</option>
            </select>

            <div style="grid-column:1 / -1; margin-top:.5rem;">
              <label for="rq-notes">Notes</label>
              <textarea id="rq-notes" name="notes" placeholder="Short note about what you'd like"></textarea>
            </div>

            <div style="grid-column:1 / -1; display:flex; gap:.5rem; align-items:center; margin-top:.25rem;">
              <button class="btn" type="submit">Send request</button>
              <div class="note">I will contact you to confirm availability.</div>
            </div>
          </form>
        </div>

      </div>
    </section>
  </main>

<footer class="site-footer" role="contentinfo" aria-label="Site footer">
    <div class="footer-inner">
      <div class="footer-brand" aria-label="Brand">
        <img class="footer-photo" src="InjoyOGsmall.jpg" alt="InJoy Beauty logo">
        <div class="footer-copy">
          <div class="brand-title">INJOY • Inclusive Beauty</div>
          <div class="brand-tag">Everyone deserves to feel beautiful.</div>
          <div class="footer-copyright">© 2025 InJoy Beauty — All Rights Reserved</div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Client-side upload validation (PDF only, max 10MB). Replace or extend as needed.
    (function(){
      const uploadForm = document.getElementById('uploadForm');
      const fileInput = document.getElementById('completedPdf');
      const uploadError = document.getElementById('uploadError');
      const MAX_BYTES = 10 * 1024 * 1024; // 10MB

      uploadForm.addEventListener('submit', function(e){
        uploadError.hidden = true;
        uploadError.textContent = '';

        const file = fileInput.files[0];
        if(!file){
          e.preventDefault();
          uploadError.hidden = false;
          uploadError.textContent = 'Please choose a PDF to upload.';
          fileInput.focus();
          return;
        }
        if(file.type !== 'application/pdf'){
          e.preventDefault();
          uploadError.hidden = false;
          uploadError.textContent = 'Only PDF files are accepted. Please upload a PDF.';
          fileInput.focus();
          return;
        }
        if(file.size > MAX_BYTES){
          e.preventDefault();
          uploadError.hidden = false;
          uploadError.textContent = 'File is too large. Please upload a PDF smaller than 10MB.';
          fileInput.focus();
          return;
        }

        // At this point, the browser will POST the multipart form to your action endpoint.
        // If you want to upload via XHR/fetch and show progress, implement fetch with FormData here.
      });

      // Small enhancement: show filename when chosen (optional)
      fileInput.addEventListener('change', function(){
        uploadError.hidden = true;
        uploadError.textContent = '';
        if(fileInput.files && fileInput.files[0]) {
          const f = fileInput.files[0];
          const label = document.createElement('div');
          label.textContent = `Selected: ${f.name} (${Math.round(f.size/1024)} KB)`;
          label.className = 'note';
          // remove old label if present
          const old = uploadForm.querySelector('.selected-file-note');
          if(old) old.remove();
          label.classList.add('selected-file-note');
          uploadForm.appendChild(label);
        }
      });
    })();
  </script>
</body>
</html>
