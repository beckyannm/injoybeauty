<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>InJoy Beauty | Bookings & Intake</title>
  
  <!-- Preconnect to font providers for better performance -->
  <link rel="preconnect" href="https://use.typekit.net" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Adobe Fonts -->
  <link rel="stylesheet" href="https://use.typekit.net/dkf4fxt.css">
  
  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>

  <style>
    /* Page-scoped helpers for the PDF preview + upload UI */
    .bookings-layout{ max-width:1100px; margin:1.75rem auto 2.5rem; padding:1.25rem; display:grid; gap:1.5rem; width: 100%; box-sizing: border-box; }
    .bookings-card{ background: rgba(255,255,255,0.9); border-radius:20px; padding:1.25rem 1.5rem; box-shadow:0 12px 30px rgba(0,0,0,0.06); border:1px solid rgba(255,255,255,0.7); backdrop-filter: blur(8px); box-sizing: border-box; max-width:920px; margin:0 auto; width: 100%; }
    .booking-card{ background: rgba(255,255,255,0.9); border-radius:20px; padding:1.5rem; box-shadow:0 12px 30px rgba(0,0,0,0.06); border:1px solid rgba(255,255,255,0.7); backdrop-filter: blur(8px); box-sizing: border-box; max-width:980px; margin:0 auto; width: 100%; }
    .quick-booking-section{ background: transparent; padding:1.5rem 1rem; max-width:800px; margin:0 auto; width: 100%; box-sizing: border-box; }
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }
    .bookings-title{ font-family: var(--heading-font); font-weight: 400; font-size:clamp(1.5rem, 2.5vw, 1.9rem); margin:0 0 0.5rem 0; color:#1f2328; }
    .bookings-sub{ font-size:clamp(0.9rem, 1.3vw, 0.98rem); margin:0 0 0.5rem 0; color:#5f6368; line-height:1.4; }
    .bookings-availability{ font-size:0.9rem; margin:0 0 0.4rem 0; color:#5f6368; }
    .bookings-info{ font-size:0.9rem; margin:0; color:#5f6368; line-height:1.5; }
    .preview-wrap{ display:grid; grid-template-columns: 1fr minmax(0, 340px); gap:1rem; align-items:start; }
    .preview-wrap > *{ min-width:0; }
    .pdf-preview{ width:100%; height:640px; max-width:100%; border-radius:8px; overflow:hidden; border:1px solid #ececec; background:#fff; box-sizing: border-box; }
    .pdf-preview iframe,
    .pdf-preview embed,
    .pdf-preview object{ width:100%; height:100%; border:0; display:block; }
    .side-col { padding:0.5rem; min-width:0; box-sizing: border-box; }
    .download-link { display:inline-block; margin-top:.5rem; color:var(--brand); font-weight:600; text-decoration:none; word-break: break-word; }
    label{ display:block; font-weight:600; margin-bottom:.25rem; font-size:0.95rem; }
    .note{ font-size:.92rem; color:var(--muted); margin-top:.5rem; }
    input[type="file"]{ display:block; margin-top:.25rem; max-width:100%; box-sizing: border-box; }
    .form-actions{ display:flex; gap:.75rem; align-items:center; margin-top:.75rem; flex-wrap:wrap; }
    .btn{ background: var(--pill-bg); border:1px solid rgba(0,0,0,0.06); color:var(--pill-text); padding:.5rem .9rem; border-radius:999px; font-weight:600; cursor:pointer; }
    .error{ color:#b00020; font-size:.9rem; margin-top:.5rem; }
    #bookingRequest{ font-family: "ivy-presto-display", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif; }
    #bookingRequest input, #bookingRequest select, #bookingRequest textarea { max-width: 100%; box-sizing: border-box; width: 100%; font-size:0.88rem; padding:0.4rem 0.5rem; border:1px solid rgba(0,0,0,0.15); border-radius:6px; }
    #bookingRequest label{ font-family: "ivy-presto-display", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif; font-size:0.85rem; font-weight:400; }
    #bookingRequest textarea{ min-height:70px; resize:vertical; }
    @media (max-width:900px){ .preview-wrap{ grid-template-columns: 1fr; } .pdf-preview{ height:clamp(360px, 70vh, 560px); } }
    @media (max-width:600px){ 
      .pdf-preview{ height:clamp(320px, 65vh, 520px); } 
      .bookings-layout{ padding: 1rem; } 
      .bookings-card{ padding: 1.5rem 1.25rem; } 
      .booking-card{ padding: 1.5rem 1.25rem; } 
      .quick-booking-section{ padding: 1.5rem 1.25rem; } 
      #bookingRequest{ grid-template-columns: 1fr !important; gap:0.75rem; } 
      #bookingRequest input, #bookingRequest select, #bookingRequest textarea{ font-size:1rem; padding:0.65rem 0.75rem; min-height:44px; } 
      #bookingRequest label{ font-size:0.95rem; margin-bottom:0.4rem; }
      #bookingRequest textarea{ min-height:100px; }
      .bookings-title{ font-size:1.75rem; margin-bottom:1rem; }
      .bookings-sub, .bookings-availability, .bookings-info{ font-size:1rem; line-height:1.6; margin-bottom:0.75rem; }
      .note{ font-size:0.95rem; line-height:1.5; }
      h2{ font-size:1.5rem !important; margin-bottom:0.75rem !important; }
    }
  </style>
</head>
<body class="site-page">
  <a class="skip-link" href="#main-content">Skip to main content <span class="skip-icon" aria-hidden="true">↘</span></a>

  <header class="site-header" role="banner">
    <div class="top-bar">
      <div class="logo-box">
        <a href="index.html" class="logo-link" aria-label="InJoy Beauty home">
          <img src="InjoyBeauty.png" alt="InJoy Beauty logo" class="logo-img" width="160" height="80" />
        </a>
      </div>

      <div class="header-divider" aria-hidden="true"></div>

      <button class="hamburger-btn" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="mobile-menu">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>

      <nav aria-label="Primary Navigation" class="primary-nav">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a href="bookings.html" aria-current="page">Bookings & Contact</a></li>
          <li><a href="gallery.html">Gallery</a></li>
        </ul>
      </nav>

      <div class="header-social" aria-label="Social links">
        <a class="social-btn social-btn--facebook" href="https://www.facebook.com" target="_blank" rel="noopener noreferrer" aria-label="InJoy Beauty on Facebook">
          <img src="facebook2.png" alt="Facebook" class="social-icon">
        </a>

        <a class="social-btn social-btn--instagram" href="https://www.instagram.com/injoy_beautyy" target="_blank" rel="noopener noreferrer" aria-label="InJoy Beauty on Instagram">
          <img src="instagram2.png" alt="Instagram" class="social-icon">
        </a>
      </div>
    </div>

    <nav id="mobile-menu" class="mobile-menu" aria-label="Mobile Navigation">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="bookings.html" aria-current="page">Booking & Contact</a></li>
        <li><a href="gallery.html">Gallery</a></li>
      </ul>
    </nav>
  </header>

  <main id="main-content" class="site-main" role="main" tabindex="-1">
    <section class="bookings-layout" aria-label="Booking information">
      <div class="bookings-card">
        <h1 id="bookings-heading" class="bookings-title display-title">Book Your Appointment</h1>

        <p class="bookings-sub">
          I offer flexible booking to meet your comfort level and needs.
        </p>

        <p class="bookings-availability"><strong>Availability:</strong> Monday → Saturday │ 3:00 PM – 8:00 PM</p>

        <p class="bookings-info">
          Appointments can be booked for either in‑home visits or salon appointments in my Bourget location. If you need extra time for sensory breaks, movement, or conversation, I’m happy to schedule accordingly — no rush, no pressure.
        </p>
      </div>

      <!-- Quick Booking Section - moved above PDF Intake Form -->
      <div class="quick-booking-section" role="region" aria-label="Quick booking request">
        <h2 class="display-title" style="margin:0 0 .5rem 0; font-size:1.35rem; font-weight:normal;">Your Visit, Your Way</h2>
        <p class="note" style="margin-bottom:0.75rem;font-size:0.88rem;">Request a booking without the full intake form. We'll follow up for details.</p>

        <form id="bookingRequest" method="POST" action="https://formspree.io/f/xgooaepo" enctype="multipart/form-data" style="display:grid;grid-template-columns:1fr 1fr;gap:.4rem;max-width:100%;box-sizing:border-box;">
          <input name="honeypot" style="display:none">
          
          <div style="grid-column:1 / -1;">
            <label style="margin-bottom:0.3rem;">Name (required)</label>
          </div>
          
          <div style="grid-column:1;">
            <label for="rq-fname" class="sr-only">First Name</label>
            <input id="rq-fname" name="firstName" placeholder="First Name" type="text" style="box-sizing:border-box;width:100%;" required>
          </div>
          
          <div style="grid-column:2;">
            <label for="rq-lname" class="sr-only">Last Name</label>
            <input id="rq-lname" name="lastName" placeholder="Last Name" type="text" style="box-sizing:border-box;width:100%;" required>
          </div>

          <label for="rq-email" style="grid-column:1 / -1;margin-top:0.3rem;">Email (required)</label>
          <input id="rq-email" name="email" type="email" style="grid-column:1 / -1;box-sizing:border-box;" required>

          <label for="rq-phone" style="grid-column:1 / -1;margin-top:0.3rem;">Phone</label>
          <input id="rq-phone" name="phone" type="tel" style="grid-column:1 / -1;box-sizing:border-box;">

          <label for="rq-service" style="grid-column:1 / -1;margin-top:0.3rem;">What service would you like to book?</label>
          <select id="rq-service" name="service" style="grid-column:1 / -1;box-sizing:border-box;" required>
            <option value="">Select a service...</option>
            <option value="haircut-style">Haircut/Style</option>
            <option value="haircut-color">Haircut/Style with Coloring</option>
            <option value="nails">Nail Services</option>
            <option value="nails-hair">Nail & Hair Services</option>
          </select>

          <div style="grid-column:1 / -1; margin-top:0.4rem;">
            <label for="rq-mobile" style="display:flex;align-items:center;gap:.4rem;cursor:pointer;font-weight:normal;">
              <input id="rq-mobile" name="mobileServices" type="checkbox" style="width:auto;margin:0;">
              <span style="font-size:0.88rem;">Do you require mobile services?</span>
            </label>
          </div>

          <div style="grid-column:1 / -1; margin-top:0.4rem;">
            <label for="rq-summary">Summary of what service you require (required)</label>
            <textarea id="rq-summary" name="summary" placeholder="Please give a detailed explanation of the needed services and your requirements" style="width:100%;box-sizing:border-box;" required></textarea>
          </div>

          <div style="grid-column:1 / -1; display:flex; gap:.5rem; align-items:center; margin-top:.4rem; flex-wrap:wrap;">
            <button class="btn" type="submit" style="font-size:0.9rem;padding:0.5rem 1rem;">Send request</button>
            <div class="note" style="font-size:0.85rem;">I will contact you to confirm availability.</div>
          </div>
        </form>
      </div>

      <!-- PDF Intake Form Section -->
      <div class="booking-card" role="region" aria-label="PDF intake form">
        <h2 class="display-title" style="margin-top:0; font-size:1.5rem;">PDF Intake Form</h2>
        <p class="note">You can preview the intake form below, download it to fill offline, then upload the completed PDF here.</p>

        <div class="preview-wrap" aria-live="polite">
          <!-- LEFT: inline PDF preview (iframe/object) -->
          <div class="pdf-preview" aria-hidden="false">
            <!-- 
              Place your PDF in the repo root as intake-form.pdf (or update the src path).
              Some browsers support filling AcroForms inline; many require downloading and editing in a PDF app.
            -->
            <iframe src="injoyintakeform.pdf" title="Intake form preview" style="width:100%;height:100%;border:0;">
              <p>This browser does not support in-page PDF previews. You can <a href="intake-form.pdf">download the intake form</a>.</p>
            </iframe>
          </div>

          <!-- RIGHT: download + upload controls -->
          <aside class="side-col" aria-label="Download and upload completed intake form">
            <h2 class="display-title" style="margin-top:0.1rem;font-size:1.05rem;">Download & Upload</h2>

            <p class="note">If your browser doesn't allow filling PDFs inline, download the file, fill it in your PDF app, then upload the completed file below.</p>

            <a class="download-link" href="injoyintakeform.pdf" download>Download intake-form.pdf</a>

            <hr style="margin:12px 0;border:none;border-top:1px solid #efefef" />

            <!-- Replace the action URL with your upload endpoint.
                 Options:
                 - Your own server endpoint: https://your-server.example.com/upload
                 - If using Formspree file uploads (paid): the Formspree endpoint (see Formspree docs)
                 - If using a 3rd-party service like JotForm, Typeform, or Netlify, follow their file-upload instructions
            -->
            <form id="uploadForm" method="POST" action="https://your-server.example.com/upload" enctype="multipart/form-data" novalidate>
              <label for="completedPdf">Upload completed PDF <span aria-hidden="true">*</span></label>
              <input id="completedPdf" name="completedPdf" type="file" accept="application/pdf" required aria-required="true">
              <div class="note">Accepted: PDF only. Max file size: 10MB.</div>

              <div id="uploadError" class="error" role="alert" aria-live="assertive" hidden></div>

              <div class="form-actions">
                <button class="btn" type="submit">Upload completed form</button>
                <a class="download-link" href="mailto:you@example.com?subject=Completed%20Intake%20Form&body=I've%20attached%20my%20completed%20intake%20form." target="_blank">Or email it</a>
              </div>

              <div class="note">If you have trouble uploading, email the completed PDF to <strong>jaymie.injoy.services@gmail.com</strong> or call/text <strong>613-868-6944</strong>.</div>
            </form>
          </aside>
        </div>

      </div>
    </section>
  </main>

<footer class="site-footer" role="contentinfo" aria-label="Site footer">
    <div class="footer-inner">
      <div class="footer-brand" aria-label="Brand">
        <img class="footer-photo" src="InjoyOGsmall.jpg" alt="InJoy Beauty logo">
        <div class="footer-copy">
          <div class="brand-title">INJOY • Inclusive Beauty</div>
          <div class="brand-tag">Everyone deserves to feel beautiful.</div>
          <div class="footer-copyright">© 2025 InJoy Beauty — All Rights Reserved</div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Client-side upload validation (PDF only, max 10MB). Replace or extend as needed.
    (function(){
      const uploadForm = document.getElementById('uploadForm');
      const fileInput = document.getElementById('completedPdf');
      const uploadError = document.getElementById('uploadError');
      const MAX_BYTES = 10 * 1024 * 1024; // 10MB

      uploadForm.addEventListener('submit', function(e){
        uploadError.hidden = true;
        uploadError.textContent = '';

        const file = fileInput.files[0];
        if(!file){
          e.preventDefault();
          uploadError.hidden = false;
          uploadError.textContent = 'Please choose a PDF to upload.';
          fileInput.focus();
          return;
        }
        if(file.type !== 'application/pdf'){
          e.preventDefault();
          uploadError.hidden = false;
          uploadError.textContent = 'Only PDF files are accepted. Please upload a PDF.';
          fileInput.focus();
          return;
        }
        if(file.size > MAX_BYTES){
          e.preventDefault();
          uploadError.hidden = false;
          uploadError.textContent = 'File is too large. Please upload a PDF smaller than 10MB.';
          fileInput.focus();
          return;
        }

        // At this point, the browser will POST the multipart form to your action endpoint.
        // If you want to upload via XHR/fetch and show progress, implement fetch with FormData here.
      });

      // Small enhancement: show filename when chosen (optional)
      fileInput.addEventListener('change', function(){
        uploadError.hidden = true;
        uploadError.textContent = '';
        if(fileInput.files && fileInput.files[0]) {
          const f = fileInput.files[0];
          const label = document.createElement('div');
          label.textContent = `Selected: ${f.name} (${Math.round(f.size/1024)} KB)`;
          label.className = 'note';
          // remove old label if present
          const old = uploadForm.querySelector('.selected-file-note');
          if(old) old.remove();
          label.classList.add('selected-file-note');
          uploadForm.appendChild(label);
        }
      });
    })();
  </script>
</body>
</html>
